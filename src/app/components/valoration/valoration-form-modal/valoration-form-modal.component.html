<div class="custom-modal-backdrop" *ngIf="show"></div>

<div class="modal show d-block" tabindex="-1" *ngIf="show" style="z-index: 1050;">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Rate User</h5>
        <button type="button" class="btn-close" (click)="closeModal()"></button>
      </div>
      <div class="modal-body">
        <form id="editGroupForm" [formGroup]="valorationForm" class="p-4 border rounded mx-auto"
          style="max-width: 600px;">
          <div class="mb-3 text-center">
            <div class="rating my-3 text-center">
              <i *ngFor="let star of [1,2,3,4,5]" class="bi"
                [ngClass]="rating >= star ? 'bi-star-fill text-warning' : 'bi-star text-secondary'"
                (click)="setRating(star)" style="cursor: pointer; font-size: 1.5rem;"></i>
            </div>
          </div>
          <div class="mb-3">
            <label for="valorationTitle" class="form-label">Title</label>
            <input type="text" formControlName="title" class="form-control" id="valorationTitle"
              placeholder="Write your title..."
              [ngClass]="{'is-valid': this.valorationForm.get('title')?.valid && this.valorationForm.get('title')?.touched,'is-invalid':this.valorationForm.get('title')?.invalid && this.valorationForm.get('title')?.touched}">

            <div class="invalid-feedback">
              <small>You must provide a title.</small>
            </div>
          </div>

          <div class="mb-3">
            <label for="valorationDescription" class="form-label">Description</label>
            <textarea class="form-control" formControlName="description" id="description" rows="3"
              placeholder="Description"
              [ngClass]="{'is-valid': this.valorationForm.get('description')?.valid && this.valorationForm.get('description')?.touched,'is-invalid':this.valorationForm.get('description')?.invalid && this.valorationForm.get('description')?.touched}">

            </textarea>
            <div class="invalid-feedback">
              <small>You must provide a description.</small>
            </div>
          </div>

        </form>
        <div class="modal-footer">
          <button class="btn btn-secondary mt-4 mb-4" (click)="closeModal()">Cancel</button>
          <button class="btn btn-primary mt-4 mb-4" (click)="submit()" [disabled]="rating === 0">Submit</button>
        </div>
      </div>

    </div>
  </div>
</div>